---
import Layout from '../../layouts/Layout.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={t('module_group.audio_and_control_modulators')}>
  <main class="page-content">
    <h1 data-i18n-key="module_group.audio_and_control_modulators">{t('module_group.audio_and_control_modulators')}</h1>
    
    <!-- Module descriptions will go here -->

    <article class="module-card">
      <h2 class="module-title">ADSR</h2>
      <p class="module-subtitle" data-i18n-key="adsr.subtitle"></p>
      
      <p class="module-description" data-i18n-key="adsr.description"></p>
      
      <div class="module-details">
        <div class="module-section">
          <h3 data-i18n-key="adsr.phases_title"></h3>
          <ul>
            <li><strong>Attack (A):</strong> <span data-i18n-key="adsr.phases.attack"></span></li>
            <li><strong>Decay (D):</strong> <span data-i18n-key="adsr.phases.decay"></span></li>
            <li><strong>Sustain (S):</strong> <span data-i18n-key="adsr.phases.sustain"></span></li>
            <li><strong>Release (R):</strong> <span data-i18n-key="adsr.phases.release"></span></li>
          </ul>
        </div>

        <div class="module-section">
          <h3 data-i18n-key="adsr.parameters_title"></h3>
          <ul>
            <li><strong>Attack:</strong> <span data-i18n-key="adsr.parameters.attack"></span></li>
            <li><strong>Decay:</strong> <span data-i18n-key="adsr.parameters.decay"></span></li>
            <li><strong>Sustain:</strong> <span data-i18n-key="adsr.parameters.sustain"></span></li>
            <li><strong>Release:</strong> <span data-i18n-key="adsr.parameters.release"></span></li>
          </ul>
        </div>

        <div class="module-section io-section">
          <div>
            <h3 data-i18n-key="adsr.inputs_title"></h3>
            <ul>
              <li><strong>Gate:</strong> <span data-i18n-key="adsr.inputs.gate"></span></li>
            </ul>
          </div>
          <div>
            <h3 data-i18n-key="adsr.outputs_title"></h3>
            <ul>
              <li><strong>CV:</strong> <span data-i18n-key="adsr.outputs.cv"></span></li>
            </ul>
          </div>
        </div>
      </div>
    </article>

    <article class="module-card">
      <h2 class="module-title">LFO</h2>
      <p class="module-subtitle" data-i18n-key="lfo.subtitle"></p>
      
      <p class="module-description" data-i18n-key="lfo.description"></p>
      
      <div class="module-details">
        <div class="module-section">
          <h3 data-i18n-key="lfo.waveforms_title"></h3>
          <ul>
            <li><strong>Sine:</strong> <span data-i18n-key="lfo.waveforms.sine"></span></li>
            <li><strong>Square:</strong> <span data-i18n-key="lfo.waveforms.square"></span></li>
            <li><strong>Sawtooth:</strong> <span data-i18n-key="lfo.waveforms.sawtooth"></span></li>
            <li><strong>Triangle:</strong> <span data-i18n-key="lfo.waveforms.triangle"></span></li>
          </ul>
        </div>

        <div class="module-section">
          <h3 data-i18n-key="lfo.parameters_title"></h3>
          <ul>
            <li><strong>Rate:</strong> <span data-i18n-key="lfo.parameters.rate"></span></li>
            <li><strong>Depth:</strong> <span data-i18n-key="lfo.parameters.depth"></span></li>
            <li><strong>Attack:</strong> <span data-i18n-key="lfo.parameters.attack"></span></li>
          </ul>
        </div>

        <div class="module-section io-section">
          <div>
            <h3 data-i18n-key="lfo.inputs_title"></h3>
            <ul>
              <li><strong>Rate CV:</strong> <span data-i18n-key="lfo.inputs.rate_cv"></span></li>
              <li><strong>Depth CV:</strong> <span data-i18n-key="lfo.inputs.depth_cv"></span></li>
              <li><strong>Gate:</strong> <span data-i18n-key="lfo.inputs.gate"></span></li>
            </ul>
          </div>
          <div>
            <h3 data-i18n-key="lfo.outputs_title"></h3>
            <ul>
              <li><strong>Out:</strong> <span data-i18n-key="lfo.outputs.out"></span></li>
            </ul>
          </div>
        </div>
      </div>
    </article>

    <article class="module-card">
      <h2 class="module-title">Ring Modulator</h2>
      <p class="module-subtitle" data-i18n-key="ringmod.subtitle"></p>
      
      <p class="module-description" data-i18n-key="ringmod.description"></p>
      
      <div class="module-details">
        <div class="module-section io-section">
          <div>
            <h3 data-i18n-key="ringmod.inputs_title"></h3>
            <ul>
              <li><strong>In:</strong> <span data-i18n-key="ringmod.inputs.in"></span></li>
              <li><strong>Mod:</strong> <span data-i18n-key="ringmod.inputs.mod"></span></li>
            </ul>
          </div>
          <div>
            <h3 data-i18n-key="ringmod.outputs_title"></h3>
            <ul>
              <li><strong>Out:</strong> <span data-i18n-key="ringmod.outputs.out"></span></li>
            </ul>
          </div>
        </div>
      </div>
    </article>

    <article class="module-card">
      <h2 class="module-title">Sample & Hold</h2>
      <p class="module-subtitle" data-i18n-key="samplehold.subtitle"></p>
      
      <p class="module-description" data-i18n-key="samplehold.description"></p>
      
      <div class="module-details">
        <div class="module-section io-section">
          <div>
            <h3 data-i18n-key="samplehold.inputs_title"></h3>
            <ul>
              <li><strong>In:</strong> <span data-i18n-key="samplehold.inputs.in"></span></li>
              <li><strong>Trig:</strong> <span data-i18n-key="samplehold.inputs.trig"></span></li>
            </ul>
          </div>
          <div>
            <h3 data-i18n-key="samplehold.outputs_title"></h3>
            <ul>
              <li><strong>Out:</strong> <span data-i18n-key="samplehold.outputs.out"></span></li>
            </ul>
          </div>
        </div>
      </div>
    </article>

  </main>
</Layout>

<style>
  .page-content {
    max-width: 900px;
    margin: 2rem auto;
    padding: 2rem;
    color: var(--color-text);
  }

  h1 {
    text-align: center;
    margin-bottom: 3rem;
    font-size: 2.5rem;
  }

  .module-card {
    background-color: #333;
    border: 1px solid #444;
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 2rem;
  }

  .module-title {
    font-family: var(--font-family-headings);
    color: var(--color-accent-1);
    font-size: 2rem;
    margin: 0 0 0.25rem 0;
  }

  .module-subtitle {
    font-family: var(--font-family-body);
    font-style: italic;
    color: var(--color-accent-2);
    margin: 0 0 1.5rem 0;
    font-size: 1.2rem;
  }

  .module-description {
    line-height: 1.6;
    margin-bottom: 2rem;
  }

  .module-details {
    display: grid;
    gap: 2rem;
  }

  .module-section h3 {
    color: var(--color-accent-2);
    border-bottom: 1px solid var(--color-accent-1);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
  }

  .module-section ul {
    list-style: none;
    padding: 0;
  }

  .module-section li {
    margin-bottom: 0.75rem;
    line-height: 1.5;
  }

  .module-section li strong {
    color: var(--color-accent-1);
  }

  .io-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
  }
</style>